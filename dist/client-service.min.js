!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Surix",[],e):"object"==typeof exports?exports.Surix=e():t.Surix=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.prefix="__surix__",this.rpcTracker={},this.setUpService()}return t.prototype.internalRequest=function(t,e){return this.rpc(t,e)},t.prototype.request=function(t,e){return console.warn("service.request method will be DEPRICATED in future. Please consider using service."+t+" instead."),this.rpc(t,e)},t.prototype.internalOn=function(t,e){document.addEventListener(""+this.prefix+t,e)},t.prototype.on=function(t,e){console.warn("service.on method will be DEPRICATED in future. Please consider using service.events."+t+" instead."),document.addEventListener(""+this.prefix+t,e)},t.prototype.sendMessage=function(t){window.parent.postMessage(t,"*")},t.prototype.rpc=function(t,e){var n=this,r=Math.random();return new Promise(function(o,i){n.rpcTracker[r]={resolve:o,reject:i};var u={name:t,body:e,type:"rpcReq",id:r};n.sendMessage(u)})},t.prototype.handleRpcReq=function(t,e){t.success?e.rpcTracker[t.id].resolve(t.body):e.rpcTracker[t.id].reject(t.body),delete e.rpcTracker[t.id]},t.prototype.emit=function(t){var e=new CustomEvent(""+this.prefix+t.name,{detail:t});document.dispatchEvent(e)},t.prototype.setUpService=function(){var t=this;window.addEventListener("message",function(e){var n=e.data;switch(n.type){case"rpcRep":t.handleRpcReq(n,t);break;case"event":t.emit(n)}})},t}();e.ServiceBase=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.requests={data:{createEntity:"data.createEntity",project:"data.project",getEntities:"data.getEntities",getEntityById:"data.getEntityById",addTagsToEntity:"data.addTagsToEntity",removeTagsFromEntity:"data.removeTagsFromEntity",getTags:"data.getTags",updateTag:"data.updateTag",getAppData:"data.getAppData",updateAppData:"data.updateAppData",createFile:"data.createFile",getFileById:"data.getFileById",getFiles:"data.getFiles"},toast:{show:"toast.show"},menu:{populate:"menu.populate"},events:{menuItemClicked:"menu-item-clicked",menuClicked:"menu-item-clicked"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3);e.Service=r.Service;var o=n(1);e.requests=o.requests},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(4),u=n(5),s=n(6),a=n(7),c=function(t){function e(){var e=t.call(this)||this;return e._data=new i.Data,e._toast=new u.Toast,e._menu=new s.Menu,e._events=new a.Events,e}return r(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"toast",{get:function(){return this._toast},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"menu",{get:function(){return this._menu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){return this._events},enumerable:!0,configurable:!0}),e.init=function(){return void 0==e.instance&&(e.instance=new e),e.instance},e.instance=void 0,e}(o.ServiceBase);e.Service=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function u(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(u,s)}a((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var u=n(1),s=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.createEntity=function(t){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.internalRequest(u.requests.data.createEntity,t)];case 1:return[2,e.sent()]}})})},e.prototype.project=function(){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.internalRequest(u.requests.data.project)];case 1:return[2,t.sent()]}})})},e.prototype.getEntities=function(t){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.internalRequest(u.requests.data.getEntities,t)];case 1:return[2,e.sent()]}})})},e.prototype.getEntityById=function(t){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.internalRequest(u.requests.data.getEntityById,t)];case 1:return[2,e.sent()]}})})},e.prototype.addTagsToEntity=function(t){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.internalRequest(u.requests.data.addTagsToEntity,t)];case 1:return[2,e.sent()]}})})},e.prototype.removeTagsFromEntity=function(t){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.internalRequest(u.requests.data.removeTagsFromEntity,t)];case 1:return[2,e.sent()]}})})},e.prototype.updateTag=function(t){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.internalRequest(u.requests.data.updateTag,t)];case 1:return[2,e.sent()]}})})},e.prototype.getTags=function(){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.internalRequest(u.requests.data.getTags)];case 1:return[2,t.sent()]}})})},e.prototype.getAppData=function(){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.internalRequest(u.requests.data.getAppData)];case 1:return[2,t.sent()]}})})},e.prototype.updateAppData=function(t){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.internalRequest(u.requests.data.updateAppData,t)];case 1:return[2,e.sent()]}})})},e.prototype.createFile=function(t){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.internalRequest(u.requests.data.createFile,t)];case 1:return[2,e.sent()]}})})},e.prototype.getFileById=function(t){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.internalRequest(u.requests.data.getFileById,t)];case 1:return[2,e.sent()]}})})},e.prototype.getFiles=function(){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.internalRequest(u.requests.data.getFiles)];case 1:return[2,t.sent()]}})})},e}(n(0).ServiceBase);e.Data=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.show=function(t){return this.internalRequest(o.requests.toast.show,t)},e}(n(0).ServiceBase);e.Toast=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.populate=function(t){return this.internalRequest(o.requests.menu.populate,t)},e}(n(0).ServiceBase);e.Menu=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(2),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.menuItemClicked=function(t){this.internalOn(i.requests.events.menuItemClicked,t)},e}(o.ServiceBase);e.Events=u}])});